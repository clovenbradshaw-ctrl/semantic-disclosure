{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Airtable Export â€“ Client Summary Webhook Response",
  "description": "Schema for the n8n Client Summary webhook response containing Client Info, Case Master View, Applications, Hearings, Events, and Case Notes records in nested 6-bucket format",
  "type": "array",
  "items": {
    "$ref": "#/definitions/clientSummaryBundle"
  },

  "definitions": {
    "valueOrError": {
      "description": "Wrapper for formula fields that may contain special values or errors",
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "specialValue": { "type": "string" }
          },
          "required": ["specialValue"],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "error": { "type": "string" }
          },
          "required": ["error"],
          "additionalProperties": false
        },
        { "type": "null" }
      ]
    },

    "linkObject": {
      "description": "Button/link field from Airtable",
      "type": "object",
      "properties": {
        "label": { "type": "string" },
        "url": { "type": "string" }
      },
      "required": ["label", "url"],
      "additionalProperties": false
    },

    "personObject": {
      "description": "Collaborator/person field from Airtable",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "email": { "type": "string" },
        "name": { "type": "string" }
      },
      "required": ["id", "email", "name"],
      "additionalProperties": false
    },

    "attachmentObject": {
      "description": "Attachment field from Airtable",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "url": { "type": "string", "format": "uri" },
        "filename": { "type": "string" },
        "size": { "type": "integer" },
        "type": { "type": "string" },
        "width": { "type": ["integer", "null"] },
        "height": { "type": ["integer", "null"] },
        "thumbnails": {
          "type": ["object", "null"],
          "properties": {
            "small": { "$ref": "#/definitions/thumbnailObject" },
            "large": { "$ref": "#/definitions/thumbnailObject" },
            "full": { "$ref": "#/definitions/thumbnailObject" }
          }
        }
      },
      "required": ["id", "url", "filename"]
    },

    "thumbnailObject": {
      "type": "object",
      "properties": {
        "url": { "type": "string", "format": "uri" },
        "width": { "type": "integer" },
        "height": { "type": "integer" }
      },
      "required": ["url", "width", "height"]
    },

    "attendeeObject": {
      "description": "Calendar event attendee",
      "type": "object",
      "properties": {
        "email": { "type": "string" },
        "name": { "type": ["string", "null"] },
        "displayName": { "type": ["string", "null"] },
        "responseStatus": {
          "type": ["string", "null"],
          "enum": ["needsAction", "declined", "tentative", "accepted", null]
        },
        "organizer": { "type": ["boolean", "null"] },
        "self": { "type": ["boolean", "null"] }
      },
      "additionalProperties": true
    },

    "metaObject": {
      "description": "Metadata about the response",
      "type": "object",
      "properties": {
        "generatedAt": { "type": "string", "format": "date-time" },
        "recordCounts": {
          "type": "object",
          "properties": {
            "client": { "type": "integer" },
            "cases": { "type": "integer" },
            "applications": { "type": "integer" },
            "hearings": { "type": "integer" },
            "events": { "type": "integer" },
            "caseNotes": { "type": "integer" }
          },
          "additionalProperties": true
        }
      },
      "required": ["generatedAt", "recordCounts"],
      "additionalProperties": true
    },

    "clientSummaryBundle": {
      "description": "Complete client summary bundle with all related records",
      "type": "object",
      "properties": {
        "_meta": { "$ref": "#/definitions/metaObject" },
        "client": { "$ref": "#/definitions/clientRecord" },
        "cases": {
          "type": "array",
          "items": { "$ref": "#/definitions/caseRecord" }
        },
        "applications": {
          "type": "array",
          "items": { "$ref": "#/definitions/applicationRecord" }
        },
        "hearings": {
          "type": "array",
          "items": { "$ref": "#/definitions/calendarEventRecord" }
        },
        "events": {
          "type": "array",
          "items": { "$ref": "#/definitions/calendarEventRecord" }
        },
        "caseNotes": {
          "type": "array",
          "items": { "$ref": "#/definitions/caseNoteRecord" }
        }
      },
      "required": ["_meta", "client", "cases", "applications", "hearings", "events", "caseNotes"],
      "additionalProperties": false
    },

    "clientRecord": {
      "description": "Client Info table record",
      "type": "object",
      "properties": {
        "_recordId": { "type": "string" },
        "_recordType": { "type": "string", "const": "client" },
        "id": { "type": "string" },
        "createdTime": { "type": "string", "format": "date-time" },

        "Client Name": { "type": ["string", "null"] },
        "First Name": { "type": ["string", "null"] },
        "Family Name": { "type": ["string", "null"] },
        "Middle Name": { "type": ["string", "null"] },
        "Full Client Name": { "type": ["string", "null"] },
        "Family Name (Pretty)": { "type": ["string", "null"] },
        "Full_Name_Normal_Pretty": { "type": ["string", "null"] },
        "Full_Name_Pretty_URL": { "type": ["string", "null"] },

        "Country": { "type": ["string", "null"] },

        "A#": { "type": ["string", "null"] },
        "A_number_airtable": { "type": ["string", "null"] },

        "DOB": { "type": ["string", "null"] },
        "Age": { "type": ["string", "integer", "null"] },

        "Place of Entry": { "type": ["string", "null"] },
        "Entry Date": { "type": ["string", "null"] },

        "Address": { "type": ["string", "null"] },
        "Address Formula": { "type": ["string", "null"] },
        "Address Rich Text Formatted": { "type": ["string", "null"] },
        "Compare Address": { "type": ["string", "null"] },
        "Phone Number": { "type": ["string", "null"] },
        "Client Email": { "type": ["string", "null"] },
        "Email Blank Formula": { "type": ["string", "null"] },
        "Phone search options": { "type": ["string", "null"] },

        "Case Manager": { "type": ["string", "null"] },
        "ICH Atty": { "type": ["string", "null"] },
        "MCH Atty": { "type": ["string", "null"] },
        "Custodian": { "type": ["string", "null"] },
        "Assigned Users Emails": { "type": ["string", "null"] },

        "Client ID": { "type": ["string", "null"] },
        "PPID": { "type": ["string", "null"] },
        "PracticePanther": { "type": ["string", "null"] },
        "Link to Practice Panther": { "type": ["string", "null"] },

        "airtable_client_info_id": { "type": ["string", "null"] },
        "recordId": { "type": ["string", "null"] },
        "Case Master View Record ID": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Case Master View // Activities": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "All Client Events": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },

        "Case Tags Rollup (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Update Tracker Rollup (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "File Case Status Rollup (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Closed File (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": ["boolean", "null"] }
        },

        "Client_Photo": {
          "type": ["array", "null"],
          "items": { "$ref": "#/definitions/attachmentObject" }
        },
        "Client Photo": {
          "type": ["array", "null"],
          "items": { "$ref": "#/definitions/attachmentObject" }
        },

        "box_shared_link": { "type": ["string", "null"] },
        "box_embed": { "type": ["string", "null"] },
        "Box_Folder_ID": { "type": ["string", "null"] },
        "smsFolder": { "type": ["string", "null"] },

        "Box Sync Start": { "type": ["boolean", "null"] },
        "CMV sync": { "type": ["boolean", "null"] },

        "Created At": { "type": ["string", "null"] },
        "Created": { "type": ["string", "null"] },
        "Created Date": { "type": ["string", "null"] },
        "Created Quarter": { "type": ["string", "null"] },
        "Airtable_Last_Modified": { "type": ["string", "null"], "format": "date-time" },
        "Sync Date": { "type": ["string", "null"] },
        "xanoSyncTrigger": { "type": ["string", "null"] },
        "Last Box URL Update": { "type": ["string", "null"] },

        "Softr Client Page": { "type": ["string", "null"] },
        "Client Details Page": { "type": ["string", "null"] },
        "Open Client Page": { "type": ["string", "null"] },
        "Kenect Link": { "type": ["string", "null"] },
        "Calendar Event Create": { "type": ["string", "null"] },
        "New case note URL": { "type": ["string", "null"] },
        "New Client Event UTM": { "type": ["string", "null"] },
        "Relationship Tab Link": { "type": ["string", "null"] },
        "Profile HTML": { "type": ["string", "null"] },
        "Bahr Import HTML": { "type": ["string", "null"] },

        "JSON for Email Matching": { "type": ["string", "null"] },
        "Gmail_Search_Terms": { "type": ["string", "null"] },
        "Name Search Options": { "type": ["string", "null"] },
        "name search 2.0": { "type": ["string", "null"] },
        "SMS Message Match": { "type": ["string", "null"] },

        "Detained": { "type": ["string", "null"] },
        "Detainment Status / Location": { "type": ["string", "null"] },

        "FOIA Stage": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },

        "Calculation": { "type": ["number", "string", "null"] },
        "Calculation 5": { "type": ["string", "null"] },
        "Calculation 12": { "type": ["string", "null"] },
        "Sorting 5 day + -": { "type": ["number", "null"] },
        "sortingLastModAndFamily": { "type": ["string", "null"] },
        "COUNT as one": { "type": ["number", "null"] },
        "ID": { "type": ["number", "null"] },
        "Unique ID / Second": { "type": ["string", "null"] },
        "# of EADs": { "type": ["number", "null"] },

        "Concat Relationship": { "type": ["string", "null"] },
        "Has Upcoming Event?": { "type": ["string", "null"] },

        "AMINO": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "Kenect Thread": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "Invoiced Lookup": { "type": ["string", "null"] },

        "DOB & Age": { "type": ["string", "null"] },
        "Phone Reformat 1 xxxxxxxxxx": { "type": ["string", "null"] },
        "Copy A#": { "type": ["string", "null"] },
        "Box ID 2.0": { "type": ["string", "null"] },
        "box share 2.0": { "type": ["string", "null"] },
        "Calculation 3": { "type": ["string", "null"] },
        "ICH_Atty_Changed": { "type": ["string", "null"], "format": "date-time" },
        "Bahr Client": { "type": ["boolean", "null"] },
        "clio_contact_id": { "type": ["string", "null"] },
        "Bahr": { "type": ["string", "null"] },
        "Description": { "type": ["string", "null"] },
        "Email (from MCH Attny) (from Case Events)": { "type": ["string", "null"] },

        "ICH Atty": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "MCH Attny (from Events 2.0)": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "CM Tags": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "ICH Color": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "ICH email": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Matter_Flatpack (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Hearing Date/Time (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Events List (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Event Ids (from Case Master View // Activities)": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        }
      },
      "required": ["_recordId", "_recordType", "id"],
      "additionalProperties": true
    },

    "caseRecord": {
      "description": "Case Master View table record",
      "type": "object",
      "properties": {
        "_recordId": { "type": "string" },
        "_recordType": { "type": "string", "const": "case" },
        "id": { "type": "string" },
        "createdTime": { "type": "string", "format": "date-time" },

        "Client Name": { "type": ["string", "null"] },
        "First Name": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Family Name": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Family Name (Pretty)": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "null" }
          ]
        },
        "Client Name (Pretty)": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "null" }
          ]
        },

        "Description": { "type": ["string", "null"] },
        "Case Notes": { "type": ["string", "null"] },
        "Notes Summary": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },

        "Relief Sought": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Case Type": { "type": ["string", "null"] },
        "Case Tags": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },

        "Hearing Date/Time": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Next Hearing": { "type": ["string", "null"] },
        "Hearing Type": { "type": ["string", "null"] },
        "Court/Office": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Judge": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },

        "SIJ Case Status": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "SIJ County": { "type": ["string", "null"] },
        "SIJ Eligible (child)": { "type": ["boolean", "null"] },

        "Closed File": { "type": ["boolean", "null"] },
        "Closed Box #": { "type": ["integer", "null"] },

        "USCIS FOIA Stage": { "type": ["string", "null"] },
        "USCIS Foia Track Link": { "type": ["string", "null"] },

        "Client_ID_Airtable": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Edit Client Info": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Associated Case": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Applications": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },

        "Record ID": { "type": ["string", "null"] },
        "Case Master View Record ID": { "type": ["string", "null"] },

        "Country": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Link to Practice Panther": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "PP ID": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },

        "box_shared_link (from Edit Client Info)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Name Search Options (from Edit Client Info)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Assigned Users Emails (from Edit Client Info)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "AMINO (from Edit Client Info)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "ICH email": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Address": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },

        "Matter_Flatpack": { "type": ["string", "null"] },

        "SIJ Visa Availability": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Appeal Engagement Deadline": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "null" }
          ]
        },
        "OYD ": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Days Elapsed since Engagement": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "OYD Calculator": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Engagement vs Sent Out": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Mail vs Rcpt Date": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Est. Age at biometrics": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Mail vs Notice Date": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Sent vs Pending (EAD)": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Days to Next Hearing": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Est. Clock Days": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Calculate FOIA pending": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "FOIA Est Complete": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "null" }
          ]
        },
        "Time Elapsed": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Calculation": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "number" },
            { "type": "null" }
          ]
        },
        "Call Up Date": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "null" }
          ]
        },
        "Good Date Field": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "null" }
          ]
        },
        "AAF Deadline": {
          "anyOf": [
            { "$ref": "#/definitions/valueOrError" },
            { "type": "string" },
            { "type": "null" }
          ]
        },

        "42b calc": { "type": ["string", "null"] },
        "Due Day Calculation": { "type": ["string", "null"] },
        "Today Date": { "type": ["string", "null"] },
        "TESTER_12": { "type": ["string", "null"] },
        "Time Tracked": { "type": ["number", "null"] },

        "box link": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "Invoiced": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "FOIA Button": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "Atty Rec Req Button": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "Activity Details": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "AMINO": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "USCIS K Button": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "Court K Button": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },
        "Appeal Contract Button": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        },

        "USCIS K Gen": { "type": ["string", "null"] },
        "CT K Gen": { "type": ["string", "null"] },
        "Appeal Contract Gen": { "type": ["string", "null"] },
        "Atty Rec Req Email Writer": { "type": ["string", "null"] },

        "Last Modified By": {
          "anyOf": [
            { "$ref": "#/definitions/personObject" },
            { "type": "null" }
          ]
        },
        "Update Tracker EAD Pers": {
          "anyOf": [
            { "$ref": "#/definitions/personObject" },
            { "type": "null" }
          ]
        },

        "Created At": { "type": ["string", "null"] },
        "Created Airtable Record": { "type": ["string", "null"], "format": "date-time" },
        "Created date": { "type": ["string", "null"], "format": "date-time" },
        "Update Tracker EADs": { "type": ["string", "null"], "format": "date-time" },

        "Initial Retainer $": { "type": ["number", "null"] },
        "Total Contract $": { "type": ["number", "null"] },

        "A#": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "DOB": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Phone Number": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Middle Name": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Age": { "type": ["string", "null"] },
        "SIJS Notes": { "type": ["string", "null"] },
        "JDR Ct Date": { "type": ["string", "null"], "format": "date-time" },
        "Service": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Visa Bulletin Date": { "type": ["string", "null"] },
        "SIJ Interview Date": { "type": ["string", "null"] },
        "Name Search Options": { "type": ["string", "null"] },
        "clio_contact_id": { "type": ["string", "null"] },
        "clio_matter_id": { "type": ["string", "null"] },

        "ICH Atty (from CI)": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Email (from MCH Attny)": {
          "type": ["array", "null"],
          "items": { "type": ["string", "null"] }
        },
        "Cancelled (from Case Events)": {
          "type": ["array", "null"],
          "items": { "type": ["boolean", "null"] }
        },
        "Past or Future (from Case Events)": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Event Ids": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "MCH Attny": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "Bahr Client": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },
        "ICH Color": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        }
      },
      "required": ["_recordId", "_recordType", "id"],
      "additionalProperties": true
    },

    "applicationRecord": {
      "description": "Applications table record",
      "type": "object",
      "properties": {
        "_recordId": { "type": "string" },
        "_recordType": { "type": "string", "const": "application" },
        "_parentCaseId": { "type": ["string", "null"] },
        "id": { "type": "string" },
        "createdTime": { "type": "string", "format": "date-time" },

        "Name": { "type": ["string", "null"] },
        "Application": { "type": ["string", "null"] },
        "Application Type": { "type": ["string", "null"] },
        "Current USCIS application": { "type": ["string", "null"] },

        "Status": { "type": ["string", "null"] },
        "Current Case Motion Status": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },

        "USCIS (in Court)": { "type": ["boolean", "null"] },

        "Case Master": {
          "type": ["array", "null"],
          "items": { "type": "string" }
        },

        "Receipt Number": { "type": ["string", "null"] },
        "USCIS Receipt Number (from Case Master) copy": { "type": ["string", "null"] },
        "Priority Date": { "type": ["string", "null"] },
        "Filing Date": { "type": ["string", "null"] },
        "Approval Date": { "type": ["string", "null"] },
        "Expiration Date": { "type": ["string", "null"] },

        "Cert County/State": { "type": ["string", "null"] },
        "Notes": { "type": ["string", "null"] },

        "EAD Category": { "type": ["string", "null"] },
        "EAD Stage": { "type": ["string", "null"] },

        "Biometrics Date": { "type": ["string", "null"] },
        "Biometrics Completed": { "type": ["boolean", "null"] },

        "Interview Date": { "type": ["string", "null"] },
        "Interview Location": { "type": ["string", "null"] },

        "Record ID": { "type": ["string", "null"] },

        "Amino": {
          "anyOf": [
            { "$ref": "#/definitions/linkObject" },
            { "type": "null" }
          ]
        }
      },
      "required": ["_recordId", "_recordType", "id"],
      "additionalProperties": true
    },

    "calendarEventRecord": {
      "description": "Calendar event record (hearings or general events)",
      "type": "object",
      "properties": {
        "_id": { "type": ["string", "null"] },
        "_recordType": {
          "type": "string",
          "enum": ["hearing", "event"]
        },
        "_calendarType": {
          "type": "string",
          "enum": ["hearing", "general"]
        },

        "title": { "type": ["string", "null"] },
        "description": { "type": ["string", "null"] },
        "location": { "type": ["string", "null"] },

        "startDateTime": { "type": ["string", "null"] },
        "endDateTime": { "type": ["string", "null"] },
        "isAllDay": { "type": ["boolean", "null"] },

        "htmlLink": { "type": ["string", "null"] },
        "meetLink": { "type": ["string", "null"] },
        "hangoutLink": { "type": ["string", "null"] },

        "status": {
          "type": ["string", "null"],
          "enum": ["confirmed", "tentative", "cancelled", null]
        },

        "attendees": {
          "type": ["array", "null"],
          "items": { "$ref": "#/definitions/attendeeObject" }
        },

        "created": { "type": ["string", "null"], "format": "date-time" },
        "updated": { "type": ["string", "null"], "format": "date-time" }
      },
      "required": ["_recordType", "_calendarType"],
      "additionalProperties": true
    },

    "caseNoteRecord": {
      "description": "Case and event note record from Xano API. Notes are stored in a caseNotes array within the root object, alongside other buckets like cases, applications, hearings, and events.",
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "description": "Unique numeric identifier for the note"
        },
        "Activity": {
          "type": ["string", "null"],
          "description": "Activity title/summary (e.g., 'Consult Walk In', 'Phone Call')"
        },
        "Type": {
          "type": ["string", "null"],
          "description": "Note type classification",
          "enum": ["Case Note", "Call", "Email", "Meeting", "Task", "Note", null]
        },
        "Date": {
          "type": ["integer", "string", "null"],
          "description": "Date/time of activity - can be epoch milliseconds (integer) or ISO string"
        },
        "Description": {
          "type": ["string", "null"],
          "description": "Detailed note content (free-form text)"
        },
        "Contact": {
          "type": ["string", "null"],
          "description": "Contact person name"
        },
        "Client_PP_ID": {
          "type": ["string", "null"],
          "description": "Client PracticePanther identifier"
        },
        "Matter": {
          "type": ["string", "null"],
          "description": "Matter/case name"
        },
        "RecordId": {
          "type": ["string", "null"],
          "description": "Record identifier"
        },
        "Created_By": {
          "type": ["string", "null"],
          "description": "User who created the note"
        },
        "Softr_Link_to_clients": {
          "type": ["string", "null"],
          "format": "uri",
          "description": "Link to Softr client record"
        },
        "Created": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Creation timestamp"
        },
        "Updated": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Last update timestamp"
        },
        "Modified": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Last modified timestamp"
        },
        "Due_Date": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Due date for tasks"
        },
        "Last_Update_By": {
          "type": ["string", "null"],
          "description": "User who last updated the note"
        },
        "Unix_timestamp": {
          "type": ["string", "integer", "null"],
          "description": "Unix timestamp of activity"
        },
        "time_raw": {
          "type": ["string", "null"],
          "description": "Raw time value"
        },
        "tags": {
          "type": ["array", "null"],
          "items": { "type": "string" },
          "description": "Associated tags"
        },
        "pp_note_id": {
          "type": ["string", "null"],
          "description": "PracticePanther note identifier"
        },
        "matter_id": {
          "type": ["string", "null"],
          "description": "Matter/case record ID - links to cases bucket"
        },
        "source": {
          "type": ["string", "null"],
          "description": "Data source identifier (e.g., 'xano')"
        },
        "client_airtable_id": {
          "type": ["string", "null"],
          "description": "Client Airtable record ID - links to client record"
        },
        "eventId": {
          "type": ["string", "null"],
          "description": "Linked event ID - links to events or hearings buckets"
        }
      },
      "required": ["id"],
      "additionalProperties": true
    }
  }
}
